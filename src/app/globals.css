@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@utility container {
  margin-inline: auto;
  padding-inline: 1.5rem;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* *=========== Claude.ai Inspired Theme =========== */
@layer base {
  :root {
    /* Claude.ai brand palette (light) */
    /* Ivory Light background, Slate Dark foreground */
    --background: 60 1% 98%; /* #FAFAF7 */
    --foreground: 0 0% 10%; /* #191919 */

    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 0 0% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;

    /* Book Cloth as primary */
    --primary: 16 48% 57%; /* #C6785C */
    --primary-foreground: 0 0% 98%; /* on-primary text */

    /* Cloud tones for secondary/muted */
    --secondary: 60 3% 75%; /* Cloud Light #BFBFBA */
    --secondary-foreground: 0 0% 15%;

    --muted: 60 3% 75%;
    --muted-foreground: 60 3% 40%; /* Cloud Medium #91918D */

    /* Manilla as accent */
    --accent: 38 19% 91%; /* #E8D8BC */
    --accent-foreground: 0 0% 15%;

    /* Error */
    --destructive: 1 49% 51%; /* #BF4543 */
    --destructive-foreground: 0 0% 98%;

    /* Ivory Dark as border/input, Focus blue as ring */
    --border: 60 10% 89%; /* #E5E4DF */
    --input: 60 10% 89%;
    --ring: 229 87% 62%; /* Focus #4A6AF2 */
    --radius: 0.75rem;
  }

  .dark {
    /* Claude.ai brand palette (dark) */
    --background: 0 0% 10%; /* Slate Dark #191919 */
    --foreground: 60 1% 98%; /* Ivory Light #FAFAF7 */

    --card: 60 3% 15%; /* Slate Medium #262625 */
    --card-foreground: 60 22% 97%;

    --popover: 60 1% 12%;
    --popover-foreground: 60 22% 97%;

    /* Book Cloth as primary */
    --primary: 16 48% 57%; /* #C6785C */
    --primary-foreground: 0 0% 100%;

    /* Cloud tones */
    --secondary: 60 3% 40%; /* Cloud Dark #666663 */
    --secondary-foreground: 60 22% 97%;

    --muted: 60 3% 25%;
    --muted-foreground: 60 3% 75%;

    /* Kraft/Manilla accents */
    --accent: 25 40% 83%; /* Kraft #D4A27F */
    --accent-foreground: 0 0% 15%;

    /* Error */
    --destructive: 1 49% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Slate Light border, Focus blue ring */
    --border: 60 2% 25%; /* Slate Light #40403E */
    --input: 60 2% 25%;
    --ring: 229 87% 62%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }
}

/* Custom animations for micro-interactions */
@keyframes float {
  0%,
  100% {
    transform: translateY(0px) scale(1);
    opacity: 0.7;
  }
  25% {
    transform: translateY(-8px) scale(1.1);
    opacity: 1;
  }
  50% {
    transform: translateY(-4px) scale(0.9);
    opacity: 0.8;
  }
  75% {
    transform: translateY(-12px) scale(1.05);
    opacity: 0.9;
  }
}

@keyframes gradient-shimmer {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.gradient-shimmer {
  background-size: 200% 200%;
  animation: gradient-shimmer 3s ease infinite;
}

/* User Companion System Styles */
.companion-toast {
  border-left: 3px solid hsl(var(--primary));
  background: hsl(var(--background) / 0.95);
  backdrop-filter: blur(8px);
}

.companion-progress {
  position: relative;
  overflow: hidden;
}

.companion-progress::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: progress-shimmer 2s infinite;
}

@keyframes progress-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(200%);
  }
}

/* Service card hover effects */
.service-card-glow {
  position: relative;
  overflow: hidden;
}

.service-card-glow::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    hsl(var(--primary) / 0.1),
    transparent 40%
  );
  opacity: 0;
  transition: opacity 300ms;
  pointer-events: none;
}

.service-card-glow:hover::before {
  opacity: 1;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .companion-toast,
  .animate-float,
  .gradient-shimmer,
  .service-card-glow::before {
    animation: none;
  }

  .companion-progress::after {
    display: none;
  }
}
